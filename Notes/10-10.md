# 10-10 Notes
- Didn't go to last week's classes cuz im stupid. 


## Download Window

- Consists of:
  - UrlWidget
  - DownloadList Widget
  - Download Progress Widget
  - Main Window
  
  - So you hit a url with a get button on the side
  - Below is a progress bar which has all the downloads in a list. 
  
  Psuedocode
  ```
  download
  engine
  start.download()
  ```
 
  - DownloadList manages DownloadWidgets
  
  ## Problems
  - We need to get progress downloaded that is intiated by the "Get button" in UrlWidget,
  but we cannot get the variables inside the button action and display it in the download progress
  since it's an encapsulation violation.
  
  - The solution is to add a custom event
  
 Custom event
  ```
  urlw.setOnUrl( (string url) -> { 
  ... = dl_engine.start(url);
  dlistW.addDownWidget();
  }
  ```
  
  ## The Observer Pattern
  - Handler interface like handle()
  - The idea is:
  
  Subject -> widgets
    list of Handlers
    emit an event 
    for (h: Handles) {
      h.handle();
    }
   addHandler();
   
  Ex.
  ```
  interface UrlHandler {
    void handleUrl(String url);
  }
  
  getButton.setOnAction( 
   (event) -> {
    for(urlh: urlHandles) {
      urlh.handleUrl(ta.getText()); // ta some text input.
    }
   });
  ```
  
  - So if you need to add another function, you need another interface and function to handle.
  
  
  ## Observer Pattern in other languages/frameworks/kits
  
  Python Observer Pattern
  ```
  callbacks = list()
  def my_cb():
    pass
  callbacks.append(my_cb)
  for cb in callbacks:
    cb()
  ```
  
  - C++ 2011 has support for doing something like the above.
  
  
  
  
